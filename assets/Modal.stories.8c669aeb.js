var Re=Object.defineProperty;var d=(e,n)=>Re(e,"name",{value:n,configurable:!0});import{r as i,R}from"./index.92244029.js";import{B as le}from"./Button.be657b0b.js";import{T as ie}from"./Text.844eb275.js";import{j as c,a as W}from"./jsx-runtime.4268c200.js";import{C as x,y as b,b as X,o as T,u as A,$ as w,s as I,T as Me,e as fe,S as se}from"./render.b81dc2cd.js";import{e as Se,I as M,o as ke}from"./keyboard.5353efcb.js";import{r as Ae}from"./bugs.c0f04768.js";import{O as V,T as G,h as H,s as U,a as F,M as Oe}from"./hidden.0b7088f1.js";import{n as B,a as Le,s as ue,E as Z}from"./use-event-listener.933c772e.js";import{f as me,m as Ne,W as Y}from"./transition.facaf079.js";import{t as ee}from"./micro-task.d8fd1c47.js";import{m as he}from"./use-watch.41c58532.js";import{r as Ie}from"./index.11cbef9a.js";import{s as Be,p as ce}from"./open-closed.3763bcf9.js";import{L as je}from"./use-outside-click.585118bf.js";import"./iframe.9e5b487d.js";import"./index.module.681c5c6b.js";import"./clsx.m.256e9345.js";let qe="div";var ge=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(ge||{});let k=Object.assign(x(function(e,n){let t=i.exports.useRef(null),o=b(t,n),{initialFocus:r,containers:s,features:a=30,...l}=e;X()||(a=1);let u=B(t);_e({ownerDocument:u},Boolean(a&16));let p=We({ownerDocument:u,container:t,initialFocus:r},Boolean(a&2));Ye({ownerDocument:u,container:t,containers:s,previousActiveElement:p},Boolean(a&8));let f=Le(),h=T(()=>{let E=t.current;!E||A(f.current,{[ue.Forwards]:()=>V(E,G.First),[ue.Backwards]:()=>V(E,G.Last)})}),j={ref:o};return R.createElement(R.Fragment,null,Boolean(a&4)&&c(H,{as:"button",type:"button",onFocus:h,features:U.Focusable}),w({ourProps:j,theirProps:l,defaultTag:qe,name:"FocusTrap"}),Boolean(a&4)&&c(H,{as:"button",type:"button",onFocus:h,features:U.Focusable}))}),{features:ge});function _e({ownerDocument:e},n){let t=i.exports.useRef(null);Z(e==null?void 0:e.defaultView,"focusout",r=>{!n||t.current||(t.current=r.target)},!0),he(()=>{n||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&F(t.current),t.current=null)},[n]);let o=i.exports.useRef(!1);i.exports.useEffect(()=>(o.current=!1,()=>{o.current=!0,ee(()=>{!o.current||(F(t.current),t.current=null)})}),[])}d(_e,"V");function We({ownerDocument:e,container:n,initialFocus:t},o){let r=i.exports.useRef(null),s=me();return he(()=>{if(!o)return;let a=n.current;!a||ee(()=>{if(!s.current)return;let l=e==null?void 0:e.activeElement;if(t!=null&&t.current){if((t==null?void 0:t.current)===l){r.current=l;return}}else if(a.contains(l)){r.current=l;return}t!=null&&t.current?F(t.current):V(a,G.First)===Oe.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.current=e==null?void 0:e.activeElement})},[o]),r}d(We,"x$2");function Ye({ownerDocument:e,container:n,containers:t,previousActiveElement:o},r){let s=me();Z(e==null?void 0:e.defaultView,"focus",a=>{if(!r||!s.current)return;let l=new Set(t==null?void 0:t.current);l.add(n);let u=o.current;if(!u)return;let p=a.target;p&&p instanceof HTMLElement?ze(l,p)?(o.current=p,F(p)):(a.preventDefault(),a.stopPropagation(),F(u)):F(o.current)},!0)}d(Ye,"G");function ze(e,n){var t;for(let o of e)if((t=o.current)!=null&&t.contains(n))return!0;return!1}d(ze,"W");let D=new Set,y=new Map;function de(e){e.setAttribute("aria-hidden","true"),e.inert=!0}d(de,"u$1");function pe(e){let n=y.get(e);!n||(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert)}d(pe,"l$1");function Ve(e,n=!0){I(()=>{if(!n||!e.current)return;let t=e.current,o=Se(t);if(o){D.add(t);for(let r of y.keys())r.contains(t)&&(pe(r),y.delete(r));return o.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement){for(let s of D)if(r.contains(s))return;D.size===1&&(y.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),de(r))}}),()=>{if(D.delete(t),D.size>0)o.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement&&!y.has(r)){for(let s of D)if(r.contains(s))return;y.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),de(r)}});else for(let r of y.keys())pe(r),y.delete(r)}}},[n])}d(Ve,"M$2");let ve=i.exports.createContext(!1);function Ge(){return i.exports.useContext(ve)}d(Ge,"l");function J(e){return R.createElement(ve.Provider,{value:e.force},e.children)}d(J,"P");function He(e){let n=Ge(),t=i.exports.useContext(xe),o=B(e),[r,s]=i.exports.useState(()=>{if(!n&&t!==null||fe)return null;let a=o==null?void 0:o.getElementById("headlessui-portal-root");if(a)return a;if(o===null)return null;let l=o.createElement("div");return l.setAttribute("id","headlessui-portal-root"),o.body.appendChild(l)});return i.exports.useEffect(()=>{r!==null&&(o!=null&&o.body.contains(r)||o==null||o.body.appendChild(r))},[r,o]),i.exports.useEffect(()=>{n||t!==null&&s(t.current)},[t,s,n]),r}d(He,"x$1");let Ue=i.exports.Fragment,Je=x(function(e,n){let t=e,o=i.exports.useRef(null),r=b(Me(f=>{o.current=f}),n),s=B(o),a=He(o),[l]=i.exports.useState(()=>{var f;return fe?null:(f=s==null?void 0:s.createElement("div"))!=null?f:null}),u=X(),p=i.exports.useRef(!1);return I(()=>{if(p.current=!1,!(!a||!l))return a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l)),()=>{p.current=!0,ee(()=>{var f;!p.current||!a||!l||(a.removeChild(l),a.childNodes.length<=0&&((f=a.parentElement)==null||f.removeChild(a)))})}},[a,l]),u?!a||!l?null:Ie.exports.createPortal(w({ourProps:{ref:r},theirProps:t,defaultTag:Ue,name:"Portal"}),l):null}),Ke=i.exports.Fragment,xe=i.exports.createContext(null),Qe=x(function(e,n){let{target:t,...o}=e,r={ref:b(n)};return c(xe.Provider,{value:t,children:w({ourProps:r,theirProps:o,defaultTag:Ke,name:"Popover.Group"})})}),K=Object.assign(Je,{Group:Qe}),be=i.exports.createContext(null);function we(){let e=i.exports.useContext(be);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,we),n}return e}d(we,"u");function Xe(){let[e,n]=i.exports.useState([]);return[e.length>0?e.join(" "):void 0,i.exports.useMemo(()=>function(t){let o=T(s=>(n(a=>[...a,s]),()=>n(a=>{let l=a.slice(),u=l.indexOf(s);return u!==-1&&l.splice(u,1),l}))),r=i.exports.useMemo(()=>({register:o,slot:t.slot,name:t.name,props:t.props}),[o,t.slot,t.name,t.props]);return R.createElement(be.Provider,{value:r},t.children)},[n])]}d(Xe,"k");let Ze="p",et=x(function(e,n){let t=we(),o=`headlessui-description-${M()}`,r=b(n);I(()=>t.register(o),[o,t.register]);let s=e,a={ref:r,...t.props,id:o};return w({ourProps:a,theirProps:s,slot:t.slot||{},defaultTag:Ze,name:t.name||"Description"})}),te=i.exports.createContext(()=>{});te.displayName="StackContext";var Q=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Q||{});function tt(){return i.exports.useContext(te)}d(tt,"x");function rt({children:e,onUpdate:n,type:t,element:o,enabled:r}){let s=tt(),a=T((...l)=>{n==null||n(...l),s(...l)});return I(()=>{let l=r===void 0||r===!0;return l&&a(0,t,o),()=>{l&&a(1,t,o)}},[a,t,o,r]),R.createElement(te.Provider,{value:a},e)}d(rt,"M$1");function ot(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}d(ot,"o");var nt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nt||{}),at=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(at||{});let lt={[0](e,n){return e.titleId===n.id?e:{...e,titleId:n.id}}},N=i.exports.createContext(null);N.displayName="DialogContext";function O(e){let n=i.exports.useContext(N);if(n===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,O),t}return n}d(O,"L");function it(e,n){i.exports.useEffect(()=>{var t;if(!n||!e)return;let o=Ne();function r(l,u,p){let f=l.style.getPropertyValue(u);return Object.assign(l.style,{[u]:p}),o.add(()=>{Object.assign(l.style,{[u]:f})})}d(r,"t");let s=e.documentElement,a=((t=e.defaultView)!=null?t:window).innerWidth-s.clientWidth;if(r(s,"overflow","hidden"),a>0){let l=s.clientWidth-s.offsetWidth,u=a-l;r(s,"paddingRight",`${u}px`)}if(ot()){let l=window.pageYOffset;r(s,"position","fixed"),r(s,"marginTop",`-${l}px`),r(s,"width","100%"),o.add(()=>window.scrollTo(0,l))}return o.dispose},[e,n])}d(it,"Ee");function st(e,n){return A(n.type,lt,e,n)}d(st,"ve");let ut="div",ct=se.RenderStrategy|se.Static,dt=x(function(e,n){let{open:t,onClose:o,initialFocus:r,__demoMode:s=!1,...a}=e,[l,u]=i.exports.useState(0),p=Be();t===void 0&&p!==null&&(t=A(p,{[ce.Open]:!0,[ce.Closed]:!1}));let f=i.exports.useRef(new Set),h=i.exports.useRef(null),j=b(h,n),E=i.exports.useRef(null),S=B(h),re=e.hasOwnProperty("open")||p!==null,oe=e.hasOwnProperty("onClose");if(!re&&!oe)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!re)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!oe)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof t!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let g=t?0:1,[$,ye]=i.exports.useReducer(st,{titleId:null,descriptionId:null,panelRef:i.exports.createRef()}),P=T(()=>o(!1)),ne=T(m=>ye({type:0,id:m})),q=X()?s?!1:g===0:!1,L=l>1,Te=i.exports.useContext(N)!==null,Ee=L?"parent":"leaf";Ve(h,L?q:!1),je(()=>{var m,C;return[...Array.from((m=S==null?void 0:S.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?m:[]).filter(v=>!(!(v instanceof HTMLElement)||v.contains(E.current)||$.panelRef.current&&v.contains($.panelRef.current))),(C=$.panelRef.current)!=null?C:h.current]},P,q&&!L),Z(S==null?void 0:S.defaultView,"keydown",m=>{m.defaultPrevented||m.key===ke.Escape&&g===0&&(L||(m.preventDefault(),m.stopPropagation(),P()))}),it(S,g===0&&!Te),i.exports.useEffect(()=>{if(g!==0||!h.current)return;let m=new IntersectionObserver(C=>{for(let v of C)v.boundingClientRect.x===0&&v.boundingClientRect.y===0&&v.boundingClientRect.width===0&&v.boundingClientRect.height===0&&P()});return m.observe(h.current),()=>m.disconnect()},[g,h,P]);let[$e,Pe]=Xe(),Ce=`headlessui-dialog-${M()}`,De=i.exports.useMemo(()=>[{dialogState:g,close:P,setTitleId:ne},$],[g,$,P,ne]),ae=i.exports.useMemo(()=>({open:g===0}),[g]),Fe={ref:j,id:Ce,role:"dialog","aria-modal":g===0?!0:void 0,"aria-labelledby":$.titleId,"aria-describedby":$e};return R.createElement(rt,{type:"Dialog",enabled:g===0,element:h,onUpdate:T((m,C,v)=>{C==="Dialog"&&A(m,{[Q.Add](){f.current.add(v),u(_=>_+1)},[Q.Remove](){f.current.add(v),u(_=>_-1)}})})},c(J,{force:!0,children:c(K,{children:c(N.Provider,{value:De,children:c(K.Group,{target:h,children:c(J,{force:!1,children:c(Pe,{slot:ae,name:"Dialog.Description",children:c(k,{initialFocus:r,containers:f,features:q?A(Ee,{parent:k.features.RestoreFocus,leaf:k.features.All&~k.features.FocusLock}):k.features.None,children:w({ourProps:Fe,theirProps:a,slot:ae,defaultTag:ut,features:ct,visible:g===0,name:"Dialog"})})})})})})})}),c(H,{features:U.Hidden,ref:E}))}),pt="div",ft=x(function(e,n){let[{dialogState:t,close:o}]=O("Dialog.Overlay"),r=b(n),s=`headlessui-dialog-overlay-${M()}`,a=T(u=>{if(u.target===u.currentTarget){if(Ae(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),o()}}),l=i.exports.useMemo(()=>({open:t===0}),[t]);return w({ourProps:{ref:r,id:s,"aria-hidden":!0,onClick:a},theirProps:e,slot:l,defaultTag:pt,name:"Dialog.Overlay"})}),mt="div",ht=x(function(e,n){let[{dialogState:t},o]=O("Dialog.Backdrop"),r=b(n),s=`headlessui-dialog-backdrop-${M()}`;i.exports.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let a=i.exports.useMemo(()=>({open:t===0}),[t]);return c(J,{force:!0,children:c(K,{children:w({ourProps:{ref:r,id:s,"aria-hidden":!0},theirProps:e,slot:a,defaultTag:mt,name:"Dialog.Backdrop"})})})}),gt="div",vt=x(function(e,n){let[{dialogState:t},o]=O("Dialog.Panel"),r=b(n,o.panelRef),s=`headlessui-dialog-panel-${M()}`,a=i.exports.useMemo(()=>({open:t===0}),[t]),l=T(u=>{u.stopPropagation()});return w({ourProps:{ref:r,id:s,onClick:l},theirProps:e,slot:a,defaultTag:gt,name:"Dialog.Panel"})}),xt="h2",bt=x(function(e,n){let[{dialogState:t,setTitleId:o}]=O("Dialog.Title"),r=`headlessui-dialog-title-${M()}`,s=b(n);i.exports.useEffect(()=>(o(r),()=>o(null)),[r,o]);let a=i.exports.useMemo(()=>({open:t===0}),[t]);return w({ourProps:{ref:s,id:r},theirProps:e,slot:a,defaultTag:xt,name:"Dialog.Title"})}),z=Object.assign(dt,{Backdrop:ht,Panel:vt,Overlay:ft,Title:bt,Description:et});function wt(){const[e,n]=i.exports.useState(!1);function t(){n(!1)}d(t,"closeModal");function o(){n(!0)}return d(o,"openModal"),W("div",{className:"",children:[c(le,{"aria-expanded":"false","aria-label":"Abrir modal",title:"Modal",type:"button",onClick:o,children:"Modal"}),c(Y,{appear:!0,show:e,as:i.exports.Fragment,children:W(z,{as:"div",className:"relative z-10",onClose:t,children:[c(Y.Child,{as:i.exports.Fragment,enter:"ease-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-100"})}),c("div",{className:"fixed inset-0 overflow-y-auto",children:c("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:c(Y.Child,{as:i.exports.Fragment,enter:"ease-out duration-400",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-300",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:W(z.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[c(z.Title,{as:"h3",children:c(ie,{size:"lg",className:"leading-6 text-gray-900",children:"Lorem, ipsum dolor"})}),c("div",{className:"mt-2",children:c(ie,{size:"sm",className:"text-gray-500",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Est in aliquid quia repellat molestias nulla qui ipsam soluta illum amet neque voluptatem pariatur quo tempora, unde quod nesciunt tempore. Animi!"})}),c("div",{className:"mt-4",children:c(le,{"aria-expanded":"true","aria-label":"Fechar modal",type:"button",onClick:t,children:"Lorem!"})})]})})})})]})})]})}d(wt,"MyModal");const qt={title:"Components/Modal",component:wt,args:{},argTypes:{}},_t={},Wt=["Default"];export{_t as Default,Wt as __namedExportsOrder,qt as default};
//# sourceMappingURL=Modal.stories.8c669aeb.js.map
