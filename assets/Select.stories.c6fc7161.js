var Z=Object.defineProperty;var k=(e,n)=>Z(e,"name",{value:n,configurable:!0});import{r as v,R as B}from"./index.92244029.js";import{T as Y}from"./Text.844eb275.js";import{j as C,a as K,F as ee}from"./jsx-runtime.4268c200.js";import{p as z,m as V,W as te}from"./transition.facaf079.js";import{I as j,e as re,o as f}from"./keyboard.5353efcb.js";import{C as _,S as q,y as F,o as h,s as P,u as D,F as oe,$}from"./render.b81dc2cd.js";import{p as ne,e as ae,i as J,a as I,x as ie,C as le}from"./CheckCircle.esm.1f083781.js";import{r as se}from"./bugs.c0f04768.js";import{h as ue,s as pe,F as ce,N as de,S as fe}from"./hidden.0b7088f1.js";import{C as ve,p as W,s as xe}from"./open-closed.3763bcf9.js";import{s as me}from"./use-resolve-button-type.1338d66b.js";import{L as be}from"./use-outside-click.585118bf.js";import{C as ge}from"./CaretDown.esm.020d57db.js";import"./iframe.9e5b487d.js";import"./index.module.681c5c6b.js";import"./clsx.m.256e9345.js";import"./micro-task.d8fd1c47.js";import"./IconBase.esm.8157fedf.js";var ye=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ye||{}),Se=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Se||{}),Re=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Re||{}),he=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(he||{});function U(e,n=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,t=fe(n(e.options.slice()),a=>a.dataRef.current.domRef.current),o=r?t.indexOf(r):null;return o===-1&&(o=null),{options:t,activeOptionIndex:o}}k(U,"j");let Oe={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{value:r,mode:t,compare:o}=e.propsRef.current,a=e.options.findIndex(s=>{let l=s.dataRef.current.value;return D(t,{[1]:()=>r.some(p=>o(p,l)),[0]:()=>o(r,l)})});return a!==-1&&(n=a),{...e,listboxState:0,activeOptionIndex:n}},[2](e,n){return e.disabled===n.disabled?e:{...e,disabled:n.disabled}},[3](e,n){return e.orientation===n.orientation?e:{...e,orientation:n.orientation}},[4](e,n){var r;if(e.disabled||e.listboxState===1)return e;let t=U(e),o=ie(n,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeOptionIndex:o,activationTrigger:(r=n.trigger)!=null?r:1}},[5]:(e,n)=>{if(e.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,t=e.searchQuery+n.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(s=>{var l;return!s.dataRef.current.disabled&&((l=s.dataRef.current.textValue)==null?void 0:l.startsWith(t))}),a=o?e.options.indexOf(o):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeOptionIndex:a,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,n)=>{let r={id:n.id,dataRef:n.dataRef},t=U(e,o=>[...o,r]);if(e.activeOptionIndex===null){let{value:o,mode:a,compare:s}=e.propsRef.current,l=n.dataRef.current.value;D(a,{[1]:()=>o.some(p=>s(p,l)),[0]:()=>s(o,l)})&&(t.activeOptionIndex=t.options.indexOf(r))}return{...e,...t}},[8]:(e,n)=>{let r=U(e,t=>{let o=t.findIndex(a=>a.id===n.id);return o!==-1&&t.splice(o,1),t});return{...e,...r,activationTrigger:1}}},G=v.exports.createContext(null);G.displayName="ListboxContext";function M(e){let n=v.exports.useContext(G);if(n===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,M),r}return n}k(M,"w");function Ce(e,n){return D(n.type,Oe,e,n)}k(Ce,"Re");let Ie=v.exports.Fragment,Le=_(function(e,n){let{value:r,defaultValue:t,name:o,onChange:a,by:s=k((x,m)=>x===m,"s$2"),disabled:l=!1,horizontal:p=!1,multiple:O=!1,...L}=e;const y=p?"horizontal":"vertical";let b=F(n),[g,c]=ne(r,a,t),d=v.exports.useReducer(Ce,{listboxState:1,propsRef:{current:{value:g,onChange:c,mode:O?1:0,compare:h(typeof s=="string"?(x,m)=>{let T=s;return(x==null?void 0:x[T])===(m==null?void 0:m[T])}:s)}},labelRef:v.exports.createRef(),buttonRef:v.exports.createRef(),optionsRef:v.exports.createRef(),disabled:l,orientation:y,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:i,propsRef:u,optionsRef:w,buttonRef:E},N]=d;u.current.value=g,u.current.mode=O?1:0,P(()=>{u.current.onChange=x=>D(u.current.mode,{[0](){return c(x)},[1](){let m=u.current.value.slice(),{compare:T}=u.current,H=m.findIndex(X=>T(X,x));return H===-1?m.push(x):m.splice(H,1),c(m)}})},[c,u]),P(()=>N({type:2,disabled:l}),[l]),P(()=>N({type:3,orientation:y}),[y]),be([E,w],(x,m)=>{var T;N({type:1}),ce(m,de.Loose)||(x.preventDefault(),(T=E.current)==null||T.focus())},i===0);let S=v.exports.useMemo(()=>({open:i===0,disabled:l,value:g}),[i,l,g]),R={ref:b};return B.createElement(G.Provider,{value:d},B.createElement(ve,{value:D(i,{[0]:W.Open,[1]:W.Closed})},o!=null&&g!=null&&ae({[o]:g}).map(([x,m])=>B.createElement(ue,{features:pe.Hidden,...oe({key:x,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:x,value:m})})),$({ourProps:R,theirProps:L,slot:S,defaultTag:Ie,name:"Listbox"})))}),Pe="button",De=_(function(e,n){var r;let[t,o]=M("Listbox.Button"),a=F(t.buttonRef,n),s=`headlessui-listbox-button-${j()}`,l=z(),p=h(d=>{switch(d.key){case f.Space:case f.Enter:case f.ArrowDown:d.preventDefault(),o({type:0}),l.nextFrame(()=>{t.propsRef.current.value||o({type:4,focus:I.First})});break;case f.ArrowUp:d.preventDefault(),o({type:0}),l.nextFrame(()=>{t.propsRef.current.value||o({type:4,focus:I.Last})});break}}),O=h(d=>{switch(d.key){case f.Space:d.preventDefault();break}}),L=h(d=>{if(se(d.currentTarget))return d.preventDefault();t.listboxState===0?(o({type:1}),l.nextFrame(()=>{var i;return(i=t.buttonRef.current)==null?void 0:i.focus({preventScroll:!0})})):(d.preventDefault(),o({type:0}))}),y=J(()=>{if(t.labelRef.current)return[t.labelRef.current.id,s].join(" ")},[t.labelRef.current,s]),b=v.exports.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled,value:t.propsRef.current.value}),[t]),g=e,c={ref:a,id:s,type:me(e,t.buttonRef),"aria-haspopup":!0,"aria-controls":(r=t.optionsRef.current)==null?void 0:r.id,"aria-expanded":t.disabled?void 0:t.listboxState===0,"aria-labelledby":y,disabled:t.disabled,onKeyDown:p,onKeyUp:O,onClick:L};return $({ourProps:c,theirProps:g,slot:b,defaultTag:Pe,name:"Listbox.Button"})}),we="label",Te=_(function(e,n){let[r]=M("Listbox.Label"),t=`headlessui-listbox-label-${j()}`,o=F(r.labelRef,n),a=h(()=>{var l;return(l=r.buttonRef.current)==null?void 0:l.focus({preventScroll:!0})}),s=v.exports.useMemo(()=>({open:r.listboxState===0,disabled:r.disabled}),[r]);return $({ourProps:{ref:o,id:t,onClick:a},theirProps:e,slot:s,defaultTag:we,name:"Listbox.Label"})}),ke="ul",Ee=q.RenderStrategy|q.Static,Ne=_(function(e,n){var r;let[t,o]=M("Listbox.Options"),a=F(t.optionsRef,n),s=`headlessui-listbox-options-${j()}`,l=z(),p=z(),O=xe(),L=(()=>O!==null?O===W.Open:t.listboxState===0)();v.exports.useEffect(()=>{var i;let u=t.optionsRef.current;!u||t.listboxState===0&&u!==((i=re(u))==null?void 0:i.activeElement)&&u.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);let y=h(i=>{switch(p.dispose(),i.key){case f.Space:if(t.searchQuery!=="")return i.preventDefault(),i.stopPropagation(),o({type:5,value:i.key});case f.Enter:if(i.preventDefault(),i.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:u}=t.options[t.activeOptionIndex];t.propsRef.current.onChange(u.current.value)}t.propsRef.current.mode===0&&(o({type:1}),V().nextFrame(()=>{var u;return(u=t.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})}));break;case D(t.orientation,{vertical:f.ArrowDown,horizontal:f.ArrowRight}):return i.preventDefault(),i.stopPropagation(),o({type:4,focus:I.Next});case D(t.orientation,{vertical:f.ArrowUp,horizontal:f.ArrowLeft}):return i.preventDefault(),i.stopPropagation(),o({type:4,focus:I.Previous});case f.Home:case f.PageUp:return i.preventDefault(),i.stopPropagation(),o({type:4,focus:I.First});case f.End:case f.PageDown:return i.preventDefault(),i.stopPropagation(),o({type:4,focus:I.Last});case f.Escape:return i.preventDefault(),i.stopPropagation(),o({type:1}),l.nextFrame(()=>{var u;return(u=t.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})});case f.Tab:i.preventDefault(),i.stopPropagation();break;default:i.key.length===1&&(o({type:5,value:i.key}),p.setTimeout(()=>o({type:6}),350));break}}),b=J(()=>{var i,u,w;return(w=(i=t.labelRef.current)==null?void 0:i.id)!=null?w:(u=t.buttonRef.current)==null?void 0:u.id},[t.labelRef.current,t.buttonRef.current]),g=v.exports.useMemo(()=>({open:t.listboxState===0}),[t]),c=e,d={"aria-activedescendant":t.activeOptionIndex===null||(r=t.options[t.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":t.propsRef.current.mode===1?!0:void 0,"aria-labelledby":b,"aria-orientation":t.orientation,id:s,onKeyDown:y,role:"listbox",tabIndex:0,ref:a};return $({ourProps:d,theirProps:c,slot:g,defaultTag:ke,features:Ee,visible:L,name:"Listbox.Options"})}),_e="li",Fe=_(function(e,n){let{disabled:r=!1,value:t,...o}=e,[a,s]=M("Listbox.Option"),l=`headlessui-listbox-option-${j()}`,p=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===l:!1,{value:O,compare:L}=a.propsRef.current,y=D(a.propsRef.current.mode,{[1]:()=>O.some(S=>L(S,t)),[0]:()=>L(O,t)}),b=v.exports.useRef(null),g=F(n,b);P(()=>{if(a.listboxState!==0||!p||a.activationTrigger===0)return;let S=V();return S.requestAnimationFrame(()=>{var R,x;(x=(R=b.current)==null?void 0:R.scrollIntoView)==null||x.call(R,{block:"nearest"})}),S.dispose},[b,p,a.listboxState,a.activationTrigger,a.activeOptionIndex]);let c=v.exports.useRef({disabled:r,value:t,domRef:b});P(()=>{c.current.disabled=r},[c,r]),P(()=>{c.current.value=t},[c,t]),P(()=>{var S,R;c.current.textValue=(R=(S=b.current)==null?void 0:S.textContent)==null?void 0:R.toLowerCase()},[c,b]);let d=h(()=>a.propsRef.current.onChange(t));P(()=>(s({type:7,id:l,dataRef:c}),()=>s({type:8,id:l})),[c,l]);let i=h(S=>{if(r)return S.preventDefault();d(),a.propsRef.current.mode===0&&(s({type:1}),V().nextFrame(()=>{var R;return(R=a.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})}))}),u=h(()=>{if(r)return s({type:4,focus:I.Nothing});s({type:4,focus:I.Specific,id:l})}),w=h(()=>{r||p||s({type:4,focus:I.Specific,id:l,trigger:0})}),E=h(()=>{r||!p||s({type:4,focus:I.Nothing})}),N=v.exports.useMemo(()=>({active:p,selected:y,disabled:r}),[p,y,r]);return $({ourProps:{id:l,ref:g,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":y,disabled:void 0,onClick:i,onFocus:u,onPointerMove:w,onMouseMove:w,onPointerLeave:E,onMouseLeave:E},theirProps:o,slot:N,defaultTag:_e,name:"Listbox.Option"})}),A=Object.assign(Le,{Button:De,Label:Te,Options:Ne,Option:Fe});const $e=[{name:"Sim"},{name:"N\xE3o"}];function Q({}){const[e,n]=v.exports.useState("Sim ou N\xE3o?");return C(A,{value:e,onChange:n,children:K("div",{className:"relative w-full max-w-sm",children:[K(A.Button,{className:"relative flex items-center gap-3 h-12 py-4 px-3 rounded bg-gray-800 w-full focus-within:ring-2 ring-cyan-300",children:[C(Y,{className:"block truncate",children:e}),C(Y,{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:C(ge,{size:20})})]}),C(te,{as:v.exports.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:C(A.Options,{className:"bg-gray-800 absolute mt-1 max-h-60 w-full overflow-auto rounded py-1",children:$e.map((r,t)=>C(A.Option,{className:({active:o})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${o?"bg-gray-700 text-gray-400":"text-gray-400"}`,value:r.name,children:({selected:o,active:a})=>K(ee,{children:[C("span",{className:`block truncate ${o?"font-medium text-cyan-300":"font-normal"}`,children:r.name}),o?C("span",{className:`absolute inset-y-0 left-0 flex items-center pl-2 ${a?"":"text-cyan-500"}`,children:C(le,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},t))})})]})})}k(Q,"Select");try{Q.displayName="Select",Q.__docgenInfo={description:"",displayName:"Select",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Select.tsx#Select"]={docgenInfo:Q.__docgenInfo,name:"Select",path:"src/components/Select.tsx#Select"})}catch{}const rt={title:"Components/Select",component:Q,args:{},argTypes:{}},ot={},nt=["Default"];export{ot as Default,nt as __namedExportsOrder,rt as default};
//# sourceMappingURL=Select.stories.c6fc7161.js.map
