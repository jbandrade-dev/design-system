var H=Object.defineProperty;var h=(e,r)=>H(e,"name",{value:r,configurable:!0});import{T as v}from"./Text.844eb275.js";import{j as n,a as D,F as L}from"./jsx-runtime.4268c200.js";import{r as s,R as T}from"./index.92244029.js";import{C as w,S as _,y as R,T as K,o as C,u as $,$ as N}from"./render.b81dc2cd.js";import{I as F,e as z,o as k}from"./keyboard.5353efcb.js";import{r as Q}from"./bugs.c0f04768.js";import{C as V,p as E,s as X}from"./open-closed.3763bcf9.js";import{s as Y}from"./use-resolve-button-type.1338d66b.js";import{C as U}from"./CaretDown.esm.020d57db.js";import"./index.module.681c5c6b.js";import"./clsx.m.256e9345.js";import"./iframe.9e5b487d.js";import"./IconBase.esm.8157fedf.js";var Z=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Z||{}),G=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(G||{});let J={[0]:e=>({...e,disclosureState:$(e.disclosureState,{[0]:1,[1]:0})}),[1]:e=>e.disclosureState===1?e:{...e,disclosureState:1},[4](e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},[5](e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},[2](e,r){return e.buttonId===r.buttonId?e:{...e,buttonId:r.buttonId}},[3](e,r){return e.panelId===r.panelId?e:{...e,panelId:r.panelId}}},B=s.exports.createContext(null);B.displayName="DisclosureContext";function O(e){let r=s.exports.useContext(B);if(r===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,O),t}return r}h(O,"h");let j=s.exports.createContext(null);j.displayName="DisclosureAPIContext";function A(e){let r=s.exports.useContext(j);if(r===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,A),t}return r}h(A,"j");let M=s.exports.createContext(null);M.displayName="DisclosurePanelContext";function W(){return s.exports.useContext(M)}h(W,"Y");function ee(e,r){return $(r.type,J,e,r)}h(ee,"Z");let te=s.exports.Fragment,re=w(function(e,r){let{defaultOpen:t=!1,...i}=e,o=`headlessui-disclosure-button-${F()}`,l=`headlessui-disclosure-panel-${F()}`,u=s.exports.useRef(null),x=R(r,K(f=>{u.current=f},e.as===void 0||e.as===s.exports.Fragment)),b=s.exports.useRef(null),y=s.exports.useRef(null),p=s.exports.useReducer(ee,{disclosureState:t?0:1,linkedPanel:!1,buttonRef:y,panelRef:b,buttonId:o,panelId:l}),[{disclosureState:d},c]=p;s.exports.useEffect(()=>c({type:2,buttonId:o}),[o,c]),s.exports.useEffect(()=>c({type:3,panelId:l}),[l,c]);let P=C(f=>{c({type:1});let S=z(u);if(!S)return;let q=(()=>f?f instanceof HTMLElement?f:f.current instanceof HTMLElement?f.current:S.getElementById(o):S.getElementById(o))();q==null||q.focus()}),I=s.exports.useMemo(()=>({close:P}),[P]),a=s.exports.useMemo(()=>({open:d===0,close:P}),[d,P]),m={ref:x};return T.createElement(B.Provider,{value:p},T.createElement(j.Provider,{value:I},T.createElement(V,{value:$(d,{[0]:E.Open,[1]:E.Closed})},N({ourProps:m,theirProps:i,slot:a,defaultTag:te,name:"Disclosure"}))))}),se="button",ae=w(function(e,r){let[t,i]=O("Disclosure.Button"),o=W(),l=o===null?!1:o===t.panelId,u=s.exports.useRef(null),x=R(u,r,l?null:t.buttonRef),b=C(a=>{var m;if(l){if(t.disclosureState===1)return;switch(a.key){case k.Space:case k.Enter:a.preventDefault(),a.stopPropagation(),i({type:0}),(m=t.buttonRef.current)==null||m.focus();break}}else switch(a.key){case k.Space:case k.Enter:a.preventDefault(),a.stopPropagation(),i({type:0});break}}),y=C(a=>{switch(a.key){case k.Space:a.preventDefault();break}}),p=C(a=>{var m;Q(a.currentTarget)||e.disabled||(l?(i({type:0}),(m=t.buttonRef.current)==null||m.focus()):i({type:0}))}),d=s.exports.useMemo(()=>({open:t.disclosureState===0}),[t]),c=Y(e,u),P=e,I=l?{ref:x,type:c,onKeyDown:b,onClick:p}:{ref:x,id:t.buttonId,type:c,"aria-expanded":e.disabled?void 0:t.disclosureState===0,"aria-controls":t.linkedPanel?t.panelId:void 0,onKeyDown:b,onKeyUp:y,onClick:p};return N({ourProps:I,theirProps:P,slot:d,defaultTag:se,name:"Disclosure.Button"})}),ne="div",oe=_.RenderStrategy|_.Static,le=w(function(e,r){let[t,i]=O("Disclosure.Panel"),{close:o}=A("Disclosure.Panel"),l=R(r,t.panelRef,d=>{i({type:d?4:5})}),u=X(),x=(()=>u!==null?u===E.Open:t.disclosureState===0)(),b=s.exports.useMemo(()=>({open:t.disclosureState===0,close:o}),[t,o]),y=e,p={ref:l,id:t.panelId};return n(M.Provider,{value:t.panelId,children:N({ourProps:p,theirProps:y,slot:b,defaultTag:ne,features:oe,visible:x,name:"Disclosure.Panel"})})}),g=Object.assign(re,{Button:ae,Panel:le});function ie(){return n("section",{className:"items-stretch w-full max-w-sm",children:D("div",{className:"grid gap-2 rounded bg-gray-800 p-4",children:[n(g,{children:({open:e})=>D(L,{children:[D(g.Button,{"aria-expanded":"false","aria-label":"Abrir disclosure",className:"flex justify-between button text-left",children:[n(v,{className:"text-black",children:"?"}),n(U,{className:`${e?"rotate-180 transform":""} h-5 w-5 text-black`})]}),n(g.Panel,{className:"px-4 pt-4 pb-2",children:n(v,{size:"sm",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit, quod. Commodi accusamus debitis unde atque ipsum magnam necessitatibus veritatis assumenda consequatur velit mollitia, vitae laudantium, rerum in tempora suscipit exercitationem."})})]})}),n(g,{children:({open:e})=>D(L,{children:[D(g.Button,{className:"flex justify-between button text-left",children:[n(v,{className:"text-black",children:"?"}),n(U,{className:`${e?"rotate-180 transform":""} h-5 w-5 text-black`})]}),n(g.Panel,{className:"px-4 pt-4 pb-2",children:n(v,{size:"sm",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit, quod. Commodi accusamus debitis unde atque ipsum magnam necessitatibus veritatis assumenda consequatur velit mollitia, vitae laudantium, rerum in tempora suscipit exercitationem."})})]})})]})})}h(ie,"MyDisclosure");const ve={title:"Components/Disclosure",component:ie,args:{},argTypes:{}},Ce={},Ie=["Default"];export{Ce as Default,Ie as __namedExportsOrder,ve as default};
//# sourceMappingURL=Disclosure.stories.b9014d39.js.map
